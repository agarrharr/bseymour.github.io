---
title: Dynamic Content in a Statically Generated Site
date: 2017-03-15 09:00:00 Z
permalink: "/dynamic-content/"
layout: single
author_profile: true
type: pages
sidebar:
  nav: core_sidenav
---

<p>
  I migrated this site a the static site generator ('<a href="https://jekyllrb.com/" target="_blank">Jekyll</a>') last year. This means that the overall site and it's complexities are managed and trackable via a version control system (such as GitHub) and generated by a build process, rather than being dependent on server side processes and database lookups.</p>

<p>
  However it does mean that even simple content updates require me to update the code, and to commit the update to my code repository to trigger the build system to regenerate my site's updated content.</p>

<p>
  If I could augment this static site with dynamic content - it would enable me to more easily make content udpates and to potentially share the content curation process with more business focused (less technical) members of the team. To achieve this I'll be using a Dynamic Content System to inject the updated content, while utilising a secondary system for content updates and publishing mechansisms, to give me the best of both worlds. If such a dynamic content system has been architected to run headless (i.e. the content and presentation layers are decoupled) then I can also utilise this content in other channels, for example if I wanted to share this content with my native iOS and Android apps, or perhaps as part of my social media publishing workflows.</p>

<hr/>
<div class='dyncontent'></div>
<hr/>

<p>
  The section above is (with the pink background) is being managed by, and published, from
  <a href="https://amplience.com/products/dynamic-content/">Amplience Dynamic Content</a>
and dynamically loaded, though for pages where the content would benefit from being refreshed more frequently I could have much more of the page content be driven by the dynamic content system. Another approach might be to include some of this content into the build process, so that some of the content is included from the server-side process - which might give better access to content for search engine crawlers.

  <img src="/images/posts/amplience-dynamic-content-update.png"  />
  </p>
<p>
While this example just uses some simple text content elements, we can easily build a comprehensive library of content types, for use in all digital channels.
<img src="/images/posts/amplience-dynamic-content.png" alt="Amplience Dynamic Content - Content Editor"/>
</p>

<p>
  For this example I load the dynamic content asynchronously and then use the <a href="http://mustache.github.io/">Moustache</a> templating language to dictate the presentational aspects as mapped to the given pieces of the received structured content.

<br/>
<br/>
{% raw %}
      &lt;h2>{{ dynamic_content_title }}&lt;/h2><br/>
      &lt;p><br/>
        {{ dynamic_content_paragraph1 }}<br/>
      &lt;/p><br/>
{% endraw %}

<br/>
<br/>
** Note: as jekyll also uses curly braces &#123; &#125; for it's templating language, you must wrap your moustache logic in &#123;&#37; raw &#37;&#125; to avoid it being interpreted by Jekyll.
</p>


<!-- HB Template to render content -->
<script id="dyncon-template" type="text/x-handlebars-template">
  {% raw %}
  <div style="background-color:#b01c4d;color:white;padding:4px 10px 4px;">
		<h2>{{ dynamic_content_title }}</h2>
    <p>
      {{dynamic_content_paragraph1}}
    </p>
	</div>
  {% endraw %}
</script>


<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/amplience/cms-javascript-sdk/master/dist/cms-javascript-sdk.min.js"></script>

<!-- Load data, inline attributes and render via template -->
<script>
window.onload = function() {
  var source = $('#dyncon-template').html();
	var template = Handlebars.compile( source );
	$.ajax( { url: 'https://c1.adis.ws/cms/content/query?fullBodyObject=true&query=%7B"sys.iri"%3A"http%3A%2F%2Fcontent.cms.amplience.com%2Fb1ab39f0-7830-43e5-8918-f94ceaebf125"%7D&scope=tree&store=bendemo', success: function( result ) {
    var inlineResult = amp.inlineContent(result);
    console.log(inlineResult[0]);
    var html = template(inlineResult[0]);
	   $('.dyncontent').append(html);
	  }
  });
};
</script>
